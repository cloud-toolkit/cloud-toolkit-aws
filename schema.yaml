name: cloud-toolkit-aws
license: Apache-2.0
logoUrl: null
displayName: Cloud Toolkit AWS
publisher: AstroKube
keywords:
  - pulumi
  - aws
  - cloud-toolkit
  - category/cloud
  - kind/component
pluginDownloadURL: github://api.github.com/cloud-toolkit/pulumi-cloud-toolkit-aws
types:
  cloud-toolkit-aws:email:NotificationTypes:
    description: >-
      Types of Email Notifications that are covered by Email Sender.

      * Bounce usually occurs when the recipient address does not exist, their inbox is full, the content of the message if flagged or other casuistics.

      * Complaint indicates that the recipient does not want the email that was sent to them. It is usually a proactive action and it is best to remove the recipient address from the mailing list whenever it is.

      * Delivery marks an email as correctly delivered.
    type: string
    enum:
      - value: Bounce
      - value: Complaint
      - value: Delivery
  cloud-toolkit-aws:serverless:DeadLetterQueueTypes:
    description: >-
      Dead Letter Queue type that will receive the faulty messages from
      the base Queue.

      Permissive - Messages will be sent to the Dead Letter Queue after 10 failed delivery attempts.

      Restrictive - Messages will be sent to the Dead Letter Queue after the first failed delivery attempt.
    type: string
    enum:
      - value: PERMISSIVE
      - value: RESTRICTIVE
  cloud-toolkit-aws:email:AdditionalQueueArgs:
    properties:
      arn:
        description: Amazon Resource Name for the Queue component.
        type: string
      url:
        description: Endpoint of the Queue component in AWS.
        type: string
    type: object
  cloud-toolkit-aws:email:NotificationTypeQueuesArgs:
    properties:
      numberOfDefaultQueues:
        description: Number of default Queues that will be created and attached to a Topic.
        type: number
      defaultQueuesConfig:
        description: Configuration for the Default Queues. If left blank, Queues created
          for this Notification Type will be standard, non-fifo, with a Dead
          Letter Queue attached to them.
        $ref: "#/types/cloud-toolkit-aws:serverless:QueueArgs"
      additionalQueues:
        description: Arguments to include Queues built and implemented outside of the
          Email Sender Component. Useful when subscribing a single Queue to two
          or more Topics or when migrating existing ones.
        type: array
        items:
          description: Arguments to include Queues built and implemented outside of the
            Email Sender Component. Useful when subscribing a single Queue to
            two or more Topics or when migrating existing ones.
          $ref: "#/types/cloud-toolkit-aws:email:AdditionalQueueArgs"
    type: object
  cloud-toolkit-aws:email:NotificationTypeArgs:
    properties:
      enabled:
        description: Enables the feature.
        type: boolean
      includeOriginalHeaders:
        description: Include original headers on the stored messages in the Queue(s).
        type: boolean
      queues:
        description: >-
          Arguments to configure the Queues subscribed to the Notification
          Type Topic.

          If left blank, a default standard, non-fifo, Queue and a Dead Letter Queue that is attached to the former will be created.
        $ref: "#/types/cloud-toolkit-aws:email:NotificationTypeQueuesArgs"
    type: object
  cloud-toolkit-aws:email:DnsDkimRecordArgs:
    properties:
      name:
        description: Name of the Record.
        type: string
      token:
        description: Token of the Record.
        type: string
    type: object
  cloud-toolkit-aws:index:ExampleArgs:
    properties:
      name:
        description: ""
        type: string
    type: object
  cloud-toolkit-aws:serverless:DeadLetterQueueTypeArgs:
    properties:
      enable:
        description: Enables the feature.
        type: boolean
      type:
        description: Dead Letter Queue type attached to the component to create.
        $ref: "#/types/cloud-toolkit-aws:serverless:DeadLetterQueueTypes"
      existingDeadLetterQueueArn:
        description: Placing a Queue ARN will set said already existing Queue as a Dead
          Letter Queue for the new one.
        type: string
      messageRetentionSeconds:
        description: The amount of time that a message will be stored in the Dead Letter
          Queue without being deleted. Minimum is 60 seconds (1 minutes) and
          Maximum 1,209,600 (14 days) seconds. By default a message is retained
          4 days.
        type: number
    type: object
  cloud-toolkit-aws:serverless:QueueArgs:
    properties:
      isFifo:
        description: Set to true to create the Queue as FiFo. False for a Standard Queue.
        type: boolean
      DeadLetterQueueTypeArgs:
        description: Dead Letter Queue attached to the component to create.
        $ref: "#/types/cloud-toolkit-aws:serverless:DeadLetterQueueTypeArgs"
      maxMessageSize:
        description: The limit for a Queue message size in bytes. Minimum is 1 byte (1
          character) and Maximum 262,144 bytes (256 KiB). By default a message
          can be 256 KiB large.
        type: number
      messageRetentionSeconds:
        description: The amount of time that a message will be stored in the Queue
          without being deleted. Minimum is 60 seconds (1 minutes) and Maximum
          1,209,600 (14 days) seconds. By default a message is retained 4 days.
        type: number
      policy:
        description: Custom policy for the Queue.
        type: string
    type: object
  cloud-toolkit-aws:email:EmailSenderArgs:
    properties:
      identity:
        description: >-
          Address of the Domain or Email used to send the emails through
          Email Sender.

          If an Email address is provided, Email Sender will set a Simple Email Service Email Identity. Verification will need to be manual.

          Else, if a Domain address is configured, Email Sender will create a Simple Email Service Domain Identity. 

          By default, it will attempt to verify the Domain by looking the Route 53 Domain Registry in the AWS account that is applying the infrastructure changes.

          If the Domain is registered elsewhere, verification needs to be manual.
        type: string
      configureDNS:
        description: >-
          In the case of a Domain Identity, enables automatic verification by
          creating DKIM DNS Records in the domain registration on Route 53.

          If the domain is not registered in the Route 53 on the same AWS account that is applying the infrastructure changes, the process will fail unless this flag is set to False.
        type: boolean
      bounce:
        description: Arguments to manage incoming Bounce notifications.
        $ref: "#/types/cloud-toolkit-aws:email:NotificationTypeArgs"
      complaint:
        description: Arguments to manage incoming Complaint notifications.
        $ref: "#/types/cloud-toolkit-aws:email:NotificationTypeArgs"
      delivery:
        description: Arguments to manage incoming Delivery notifications.
        $ref: "#/types/cloud-toolkit-aws:email:NotificationTypeArgs"
    type: object
resources:
  cloud-toolkit-aws:email:EmailSender:
    description: >-
      Cloud Toolkit component for an Email Sender. Creates a Simple Email
      Service Email or Domain Identity alongside Simple Notification Service
      Topics and Simple Queue Service Queues to manage bounce, complaints or
      delivered messages.

      In the case of building a Domain Identity, if it is registered in the Route 53 on the AWS account that is applying the infrastructure changes, Cloud Toolkit can verify it automatically by creating the DKIM DNS Records.
    properties:
      resourceGroups:
        description: Resource Groups that contain the underlying components such as
          Topics or Queues that belong to the Email Sender.
        type: array
        items:
          description: Resource Groups that contain the underlying components such as
            Topics or Queues that belong to the Email Sender.
          $ref: /aws/v5.10.0/schema.json#/resources/aws:resourcegroups%2fgroup:Group
      domainIdentity:
        description: Domain Identity component. Left blank if an Email Identity was used
          instead.
        $ref: /aws/v5.10.0/schema.json#/resources/aws:ses%2fdomainIdentity:DomainIdentity
      emailIdentity:
        description: Email Identity component. Left blank if a Domain Identity was used
          instead.
        $ref: /aws/v5.10.0/schema.json#/resources/aws:ses%2femailIdentity:EmailIdentity
      address:
        description: Address of the Identity, regardless if it is a Domain or an Email.
        type: string
      domainDKIM:
        description: Domain DKIM. Only applies for Domain Identities.
        $ref: /aws/v5.10.0/schema.json#/resources/aws:ses%2fdomainDkim:DomainDkim
      dnsDkimRecords:
        description: DNS DKIM Records. Only applies for Domain Identities.
        type: array
        items:
          description: DNS DKIM Records. Only applies for Domain Identities.
          $ref: "#/types/cloud-toolkit-aws:email:DnsDkimRecordArgs"
      dnsZoneId:
        description: DNS zone identifier in Route 53 for the Domain. Only applies for
          Domain Identities that are registered using Route 53.
        type: string
      dnsRecords:
        description: DNS records stored in the Domain registration in Route 53. Only
          applies for Domain Identities that are registered using Route 53.
        type: array
        items:
          description: DNS records stored in the Domain registration in Route 53. Only
            applies for Domain Identities that are registered using Route 53.
          $ref: /aws/v5.10.0/schema.json#/resources/aws:route53%2frecord:Record
      bounceTopic:
        description: SNS Topic for bounced emails.
        $ref: /aws/v5.10.0/schema.json#/resources/aws:sns%2ftopic:Topic
      bounceIdentityNotificationTopic:
        description: Identity Notification Topic for bounced emails.
        $ref: /aws/v5.10.0/schema.json#/resources/aws:ses%2fidentityNotificationTopic:IdentityNotificationTopic
      bounceQueues:
        description: SQS Queues subscribed to the SNS Topic that receives bounced
          emails. These Queues were created automatically by the Email Sender
          component.
        type: array
        items:
          description: SQS Queues subscribed to the SNS Topic that receives bounced
            emails. These Queues were created automatically by the Email Sender
            component.
          $ref: "#/types/cloud-toolkit-aws:serverless:Queue"
      bounceAdditionalQueues:
        description: Additional SQS Queues subscribed to the SNS Topic that receives
          bounced emails. These Queues were created outside the Email Sender
          component.
        type: array
        items:
          description: Additional SQS Queues subscribed to the SNS Topic that receives
            bounced emails. These Queues were created outside the Email Sender
            component.
          $ref: "#/types/cloud-toolkit-aws:email:AdditionalQueueArgs"
      bounceAdditionalQueuesPolicies:
        description: Queue Policies attached to the externally provided Bounce SQS Queues.
        type: array
        items:
          description: Queue Policies attached to the externally provided Bounce SQS Queues.
          $ref: /aws/v5.10.0/schema.json#/resources/aws:sqs%2fqueuePolicy:QueuePolicy
      bounceTopicSubscriptions:
        description: SNS subscriptions of the SQS Queues to the Bounce SNS Topic.
        type: array
        items:
          description: SNS subscriptions of the SQS Queues to the Bounce SNS Topic.
          $ref: /aws/v5.10.0/schema.json#/resources/aws:sns%2ftopicSubscription:TopicSubscription
      complaintTopic:
        description: SNS Topic for complained emails.
        $ref: /aws/v5.10.0/schema.json#/resources/aws:sns%2ftopic:Topic
      complaintIdentityNotificationTopic:
        description: Identity Notification Topic for complained emails.
        $ref: /aws/v5.10.0/schema.json#/resources/aws:ses%2fidentityNotificationTopic:IdentityNotificationTopic
      complaintQueues:
        description: SQS Queues subscribed to the SNS Topic that receives complained
          emails. These Queues were created automatically by the Email Sender
          component.
        type: array
        items:
          description: SQS Queues subscribed to the SNS Topic that receives complained
            emails. These Queues were created automatically by the Email Sender
            component.
          $ref: "#/types/cloud-toolkit-aws:serverless:Queue"
      complaintAdditionalQueues:
        description: Additional SQS Queues subscribed to the SNS Topic that receives
          complained emails. These Queues were created outside the Email Sender
          component.
        type: array
        items:
          description: Additional SQS Queues subscribed to the SNS Topic that receives
            complained emails. These Queues were created outside the Email
            Sender component.
          $ref: "#/types/cloud-toolkit-aws:email:AdditionalQueueArgs"
      complaintAdditionalQueuesPolicies:
        description: Queue Policies attached to the externally provided Complaint SQS
          Queues.
        type: array
        items:
          description: Queue Policies attached to the externally provided Complaint SQS
            Queues.
          $ref: /aws/v5.10.0/schema.json#/resources/aws:sqs%2fqueuePolicy:QueuePolicy
      complaintTopicSubscriptions:
        description: SNS subscriptions of the SQS Queues to the Complaint SNS Topic.
        type: array
        items:
          description: SNS subscriptions of the SQS Queues to the Complaint SNS Topic.
          $ref: /aws/v5.10.0/schema.json#/resources/aws:sns%2ftopicSubscription:TopicSubscription
      deliveryTopic:
        description: SNS Topic for delivered emails.
        $ref: /aws/v5.10.0/schema.json#/resources/aws:sns%2ftopic:Topic
      deliveryIdentityNotificationTopic:
        description: Identity Notification Topic for delivered emails.
        $ref: /aws/v5.10.0/schema.json#/resources/aws:ses%2fidentityNotificationTopic:IdentityNotificationTopic
      deliveryQueues:
        description: SQS Queues subscribed to the SNS Topic that receives delivered
          emails. These Queues were created automatically by the Email Sender
          component.
        type: array
        items:
          description: SQS Queues subscribed to the SNS Topic that receives delivered
            emails. These Queues were created automatically by the Email Sender
            component.
          $ref: "#/types/cloud-toolkit-aws:serverless:Queue"
      deliveryAdditionalQueues:
        description: Additional SQS Queues subscribed to the SNS Topic that receives
          delivered emails. These Queues were created outside the Email Sender
          component.
        type: array
        items:
          description: Additional SQS Queues subscribed to the SNS Topic that receives
            delivered emails. These Queues were created outside the Email Sender
            component.
          $ref: "#/types/cloud-toolkit-aws:email:AdditionalQueueArgs"
      deliveryAdditionalQueuesPolicies:
        description: Queue Policies attached to the externally provided Delivery SQS Queues.
        type: array
        items:
          description: Queue Policies attached to the externally provided Delivery SQS
            Queues.
          $ref: /aws/v5.10.0/schema.json#/resources/aws:sqs%2fqueuePolicy:QueuePolicy
      deliveryTopicSubscriptions:
        description: SNS subscriptions of the SQS Queues to the Delivery SNS Topic.
        type: array
        items:
          description: SNS subscriptions of the SQS Queues to the Delivery SNS Topic.
          $ref: /aws/v5.10.0/schema.json#/resources/aws:sns%2ftopicSubscription:TopicSubscription
      senderPolicy:
        description: Policy that when attached to an user, allows them to send messages
          using the Email Sender Identity.
        $ref: /aws/v5.10.0/schema.json#/resources/aws:iam%2fpolicy:Policy
      notificationsPolicy:
        description: Policy that when attached to an user, allows them to read the
          notification messages in the Queues.
        $ref: /aws/v5.10.0/schema.json#/resources/aws:iam%2fpolicy:Policy
    required:
      - resourceGroups
      - address
      - dnsDkimRecords
      - dnsRecords
      - bounceQueues
      - bounceAdditionalQueues
      - bounceAdditionalQueuesPolicies
      - bounceTopicSubscriptions
      - complaintQueues
      - complaintAdditionalQueues
      - complaintAdditionalQueuesPolicies
      - complaintTopicSubscriptions
      - deliveryQueues
      - deliveryAdditionalQueues
      - deliveryAdditionalQueuesPolicies
      - deliveryTopicSubscriptions
      - senderPolicy
    inputProperties:
      identity:
        description: >-
          Address of the Domain or Email used to send the emails through
          Email Sender.

          If an Email address is provided, Email Sender will set a Simple Email Service Email Identity. Verification will need to be manual.

          Else, if a Domain address is configured, Email Sender will create a Simple Email Service Domain Identity. 

          By default, it will attempt to verify the Domain by looking the Route 53 Domain Registry in the AWS account that is applying the infrastructure changes.

          If the Domain is registered elsewhere, verification needs to be manual.
        type: string
      configureDNS:
        description: >-
          In the case of a Domain Identity, enables automatic verification by
          creating DKIM DNS Records in the domain registration on Route 53.

          If the domain is not registered in the Route 53 on the same AWS account that is applying the infrastructure changes, the process will fail unless this flag is set to False.
        type: boolean
      bounce:
        description: Arguments to manage incoming Bounce notifications.
        $ref: "#/types/cloud-toolkit-aws:email:NotificationTypeArgs"
      complaint:
        description: Arguments to manage incoming Complaint notifications.
        $ref: "#/types/cloud-toolkit-aws:email:NotificationTypeArgs"
      delivery:
        description: Arguments to manage incoming Delivery notifications.
        $ref: "#/types/cloud-toolkit-aws:email:NotificationTypeArgs"
    requiredInputs:
      - identity
    isComponent: true
    type: object
  cloud-toolkit-aws:index:Example:
    description: ""
    properties:
      bucket:
        description: ""
        $ref: /aws/v5.10.0/schema.json#/resources/aws:s3%2fbucketV2:BucketV2
    required:
      - bucket
    inputProperties:
      name:
        description: ""
        type: string
    requiredInputs:
      - name
    isComponent: true
    type: object
  cloud-toolkit-aws:serverless:Queue:
    description: Cloud Toolkit component for Queues. Creates a Simple Queue Service
      Queue alongside a Dead Letter Queue for faulty message deliveries.
    properties:
      sqsQueue:
        description: Simple Queue Service Queue underline the component.
        $ref: /aws/v5.10.0/schema.json#/resources/aws:sqs%2fqueue:Queue
      deadLetterQueue:
        description: Dead Letter Queue associated with the component. Messages that were
          not delivered will be sent here.
        $ref: /aws/v5.10.0/schema.json#/resources/aws:sqs%2fqueue:Queue
    required:
      - sqsQueue
    inputProperties:
      isFifo:
        description: Set to true to create the Queue as FiFo. False for a Standard Queue.
        type: boolean
      DeadLetterQueueTypeArgs:
        description: Dead Letter Queue attached to the component to create.
        $ref: "#/types/cloud-toolkit-aws:serverless:DeadLetterQueueTypeArgs"
      maxMessageSize:
        description: The limit for a Queue message size in bytes. Minimum is 1 byte (1
          character) and Maximum 262,144 bytes (256 KiB). By default a message
          can be 256 KiB large.
        type: number
      messageRetentionSeconds:
        description: The amount of time that a message will be stored in the Queue
          without being deleted. Minimum is 60 seconds (1 minutes) and Maximum
          1,209,600 (14 days) seconds. By default a message is retained 4 days.
        type: number
      policy:
        description: Custom policy for the Queue.
        type: string
    requiredInputs: []
    isComponent: true
    type: object
language:
  nodejs:
    dependencies:
      "@pulumi/aws": ^5.10.0
    devDependencies:
      typescript: ^4.0.0
    respectSchemaVersion: true
    packageName: "@cloud-toolkit/cloud-toolkit-aws"
  python:
    requires:
      pulumi: ">=3.0.0,<4.0.0"
      pulumi-aws: ">=5.10.0,<6.0.0"
    respectSchemaVersion: true
    packageName: cloud_toolkit_aws

